<!doctype html>
<html lang="{{ .Site.LanguageCode }}">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    {{/* Author */}}
    {{ with site.Params.author }}<meta name="author" content="{{ . }}" />{{ end }}
    
    {{/* Description and Keywords */}}
    {{ if eq .Type "blog" }}
      {{ with .Params.metadescription }}<meta name="description" content="{{ . }}" />{{ end }}
      {{ with .Params.metakeywords }}<meta name="keywords" content="{{ . }}" />{{ end }}
    {{ else }}
      {{ with site.Params.description }}<meta name="description" content="{{ . }}" />{{ end }}
      {{ with site.Params.keywords }}<meta name="keywords" content="{{ . }}" />{{ end }}
    {{ end }}

    {{/* Page Title */}}
    <base href="{{ .Permalink }}" />
    <title>{{ block "title" . }}{{ site.Title }}{{ end }}</title>

    {{/* Canonical URL */}}
    <link rel="canonical" href="{{ .Permalink }}" />

    {{/* Open Graph / Facebook */}}
    <meta property="og:type" content="{{ if eq .Type "blog" }}article{{ else }}website{{ end }}" />
    <meta property="og:url" content="{{ .Permalink }}" />
    <meta property="og:title" content="{{ if .Title }}{{ .Title }} · {{ site.Title }}{{ else }}{{ site.Title }}{{ end }}" />
    {{ if eq .Type "blog" }}
      {{ with .Params.metadescription }}<meta property="og:description" content="{{ . }}" />{{ end }}
    {{ else }}
      <meta property="og:description" content="{{ site.Params.description }}" />
    {{ end }}
    <meta property="og:image" content="{{ site.BaseURL }}{{ site.Params.ogImage | default "/images/og-image.png" }}" />
    <meta property="og:site_name" content="{{ site.Title }}" />
    <meta property="og:locale" content="{{ .Site.LanguageCode }}" />
    
    {{/* Twitter Cards */}}
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="{{ .Permalink }}" />
    <meta name="twitter:title" content="{{ if .Title }}{{ .Title }} · {{ site.Title }}{{ else }}{{ site.Title }}{{ end }}" />
    {{ if eq .Type "blog" }}
      {{ with .Params.metadescription }}<meta name="twitter:description" content="{{ . }}" />{{ end }}
    {{ else }}
      <meta name="twitter:description" content="{{ site.Params.description }}" />
    {{ end }}
    <meta name="twitter:image" content="{{ site.BaseURL }}{{ site.Params.ogImage | default "/images/og-image.png" }}" />
    {{ with site.Params.twitterHandle }}<meta name="twitter:creator" content="{{ . }}" />{{ end }}

    {{/* JSON-LD Structured Data */}}
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "{{ if eq .Type "blog" }}BlogPosting{{ else if eq .IsHome true }}WebSite{{ else }}WebPage{{ end }}",
      {{ if eq .IsHome true }}
      "url": "{{ site.BaseURL }}",
      "name": "{{ site.Title }}",
      "author": {
        "@type": "Person",
        "name": "{{ site.Params.author }}",
        "jobTitle": "Solution Architect",
        "description": "{{ site.Params.description }}",
        "url": "{{ site.BaseURL }}"
      },
      {{ else }}
      "headline": "{{ .Title }}",
      "url": "{{ .Permalink }}",
      {{ if eq .Type "blog" }}
      "datePublished": "{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}",
      "dateModified": "{{ .Lastmod.Format "2006-01-02T15:04:05Z07:00" }}",
      "wordCount": {{ .WordCount }},
      {{ end }}
      "author": {
        "@type": "Person",
        "name": "{{ site.Params.author }}",
        "url": "{{ site.BaseURL }}"
      },
      {{ end }}
      "description": "{{ if eq .Type "blog" }}{{ with .Params.metadescription }}{{ . }}{{ else }}{{ site.Params.description }}{{ end }}{{ else }}{{ site.Params.description }}{{ end }}",
      "publisher": {
        "@type": "Person",
        "name": "{{ site.Params.author }}"
      }
    }
    </script>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans+Mono:400,600,700" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Anonymous+Pro:400,500,700" />

    <link rel="stylesheet" href="{{ "css/styles.css" | absURL }}" />

    <link rel="icon" type="image/png" href="{{ "/images/favicon.png" | absURL }}" sizes="32x32" />

    {{ with .OutputFormats.Get "RSS" }}
      <link href="{{ .RelPermalink }}" rel="alternate" type="application/rss+xml" title="{{ site.Title }}" />
      <link href="{{ .RelPermalink }}" rel="feed" type="application/rss+xml" title="{{ site.Title }}" />
    {{ end }}
  </head>

  <body>
    <main class="wrapper">
      {{ partial "header.html" . }}


      <div class="content">
        {{ block "content" . }}{{ end }}
      </div>

      {{ partial "footer.html" . }}
    </main>
  </body>
</html>
